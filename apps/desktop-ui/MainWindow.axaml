<Window xmlns="https://github.com/avaloniaui"
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
       xmlns:vm="using:ArkAsaDesktopUi.ViewModels"
       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
       mc:Ignorable="d" d:DesignWidth="1920" d:DesignHeight="1080"
       x:Class="ArkAsaDesktopUi.Views.MainWindow"
       x:DataType="vm:MainWindowViewModel"
       Title="ARK ASA Server Manager"
       Width="1920" Height="1080"
       MinWidth="1280" MinHeight="720"
       WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" MinWidth="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Navigation -->
        <Border Grid.Column="0" 
                Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundTransparentBrush}"
                BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- App Title -->
                <TextBlock Grid.Row="0"
                          Text="ARK ASA Manager"
                          FontSize="20"
                          FontWeight="Bold"
                          Margin="16,16,16,24"
                          Foreground="{DynamicResource SystemControlForegroundBaseHighBrush}"/>

                <!-- Navigation Menu -->
                <ListBox Grid.Row="1"
                        ItemsSource="{Binding NavigationItems}"
                        SelectedItem="{Binding SelectedNavigationItem}"
                        SelectionMode="Single"
                        Background="Transparent"
                        BorderThickness="0">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="12,8">
                                <TextBlock Text="{Binding Icon}" FontSize="16" Margin="0,0,12,0"/>
                                <TextBlock Text="{Binding Title}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <!-- Connection Status -->
                <Border Grid.Row="2"
                       Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                       Padding="12">
                    <StackPanel>
                        <TextBlock Text="Connection Status" 
                                  FontSize="12"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,4"/>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Width="8" Height="8" 
                                    Margin="0,0,8,0"
                                    Fill="{Binding ConnectionStatusColor}"/>
                            <TextBlock Text="{Binding ConnectionStatusText}"
                                      FontSize="11"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <ContentControl Grid.Column="1"
                       Content="{Binding CurrentPage}">
            <ContentControl.ContentTemplate>
                <DataTemplate>
                    <ContentPresenter Content="{Binding}"/>
                </DataTemplate>
            </ContentControl.ContentTemplate>
        </ContentControl>
    </Grid>
</Window>

